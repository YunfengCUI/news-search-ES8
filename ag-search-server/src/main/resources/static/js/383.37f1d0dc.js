"use strict";(self["webpackChunkag_search_view"]=self["webpackChunkag_search_view"]||[]).push([[383],{7383:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-table",{staticStyle:{width:"100%",background:"none"},attrs:{data:e.tableData.filter((t=>!e.search||t.arricleTitle.toLowerCase().includes(e.search.toLowerCase()))),"header-row-style":{height:"50px"},"header-cell-style":{overflow:"hiddenColumns",padding:"0",textAlign:"center",background:"none"},"cell-style":{background:"none"}}},[t("el-table-column",{attrs:{label:"新闻标题",prop:"arricleTitle",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(o){return[t("div",{staticClass:"blue-font-color",on:{click:function(t){return e.openNews(o.row)}}},[e._v(e._s(o.row.arricleTitle))])]}}])}),t("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(o){return[t("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEdit(o.$index,o.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(o.$index,o.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-row",[t("div",{staticClass:"block"},[t("el-pagination",{attrs:{background:"","current-page":e.page.formNo,"page-size":e.page.formSize,layout:"total, prev, pager, next",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.page,"formNo",t)},"update:current-page":function(t){return e.$set(e.page,"formNo",t)}}})],1)])],1)},a=[];const{removeCollection:n}=o(8185),{getCollection_Page:i}=o(8185);var l={name:"PersonalCollection",data(){return{tableData:[],search:"",currentPage1:0,page:{total:0,formNo:0,formSize:10}}},methods:{handleEdit(e,t){console.log(e,t),alert("开发中")},handleDelete(e,t){this.removeCollection(t),this.page.total%this.page.formSize==1?this.page.formNo-=1:this.page.formNo,this.getCollection()},getCollection(){const e={user_uid:sessionStorage.getItem("UserId"),formNo:this.page.formNo,formSize:this.page.formSize};i(e).then((e=>{this.page.total=e.data.total,this.tableData=e.data.records})).catch((e=>{this.$notify.error("出错了")}))},removeCollection(e){n(e).then((e=>{this.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"}),this.getCollection()})).catch((e=>{this.$notify.error({title:"错误",message:"删除失败",position:"bottom-right"})}))},openNews(e){const t={title:e.arricleTitle,uuid:e.arrricleId},{href:o}=this.$router.resolve({name:"watch",query:{title:t.title,uuid:t.uuid}});window.open(o,"_parent")},handleSizeChange(e){},handleCurrentChange(e){this.page.formNo=e,this.getCollection()}},created(){this.getCollection()}},s=l,c=o(1001),u=(0,c.Z)(s,r,a,!1,null,"42828749",null),h=u.exports}}]);
//# sourceMappingURL=383.37f1d0dc.js.map